<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>CCAS Dashboard – Power Cycling</title>

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="css/style.css?v=20251029" />
  
  <!-- Page-specific (minimal) -->
  <style>
    /* Constrain and center the article content on this page only */
    main.info { padding: 1rem; max-width: 900px; margin: auto; line-height: 1.7; }
    main.info h2 { margin-top: 2rem; }

    /* Optional: nicer spacing for collapsibles on the Info page */
    main.info details { margin-top: .5rem; }
    main.info details > summary { cursor: pointer; }
    
    /* Smooth in-page scrolling (optional but nice) */
    html { scroll-behavior: smooth; }
    
    /* Header height → used for anchor offset */
    :root { --header-offset: 64px; } /* default; JS below will auto-measure */
    
    /* Make anchored elements stop *below* the sticky header */
    main.info h2[id],
    main.info h3[id],
    main.info section[id],
    main.info details[id]{
      scroll-margin-top: calc(var(--header-offset) + 8px);
    }

    /* Keep the opened dropdown from making the whole page huge on mobile */
    @media (max-width: 1080px) {
      /* The container that holds the table when the details is open */
      #what-is-the-scale-for-the-aqhi[open] .aqhi-panel{
        max-height: 70vh;              /* cap height to the viewport */
        overflow: auto;                /* scroll inside the panel */
        margin: .5rem 0;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        background: #fff;
        box-shadow: 0 6px 18px rgba(0,0,0,.08);
        -webkit-overflow-scrolling: touch; /* smoother iOS scroll */
      }
    
      /* Horizontal scroll if table is wider than the screen */
      #what-is-the-scale-for-the-aqhi .aqhi-xscroll{
        overflow-x: auto;
      }
    }

  </style>
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <a href="index.html" class="logo">CCAS Dashboard</a>

    <button class="hamburger" aria-controls="site-nav" aria-expanded="false">
      <span class="visually-hidden">Menu</span>☰
    </button>

    <nav id="site-nav" class="nav">
      <a class="nav-button" href="index.html">Home</a>
      <a class="nav-button" href="map.html">Map</a>
      <a class="nav-button" href="details.html">Graphs</a>
      <a class="nav-button" href="list.html">Sensor&nbsp;List</a>
      <a class="nav-button" href="info.html" aria-current="page">Info</a>
    </nav>
  </header>

  <main id="main">
    <h1>Power Cycling Causes and Effects</h1>
    <h2>What is power cycling and why does it happen?</h2>
    <p>
      This usually happens when the sensor runs out of power. Our outdoor sensors are powered by solar panels with battery backups, which can be depleted during long periods of rain or limited sunlight. We expect this to happen more often during British Columbia’s short winter days, especially in cities, where tall buildings can block out or shade the sun.
    </p>
    <h2>What happens when a air quality sensor power cycles?</h2>
    <p>
      The short answer is not much, other than we are unable to provide measurements during the time it is off. However, there is some evidence that data may be unreliable in the first hour or two after a sensor restarts. Think of it like a "warm-up" period, where the data should be read with extra caution. After that, the sensors operate as normal and the data quality improves!
    </p>
  </main>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const header = document.querySelector('.site-header');
  
      function setOffsetVar() {
        const h = header ? header.offsetHeight : 0;
        document.documentElement.style.setProperty('--header-offset', h + 'px');
      }
  
      function openDetailsAndAlign(hash) {
        if (!hash) return;
        const id = hash.slice(1);
        const el = document.getElementById(id);
        if (!el) return;
  
        // If target is inside a <details>, open it first
        const d = el.closest('details');
        if (d && !d.open) d.open = true;
  
        // Re-scroll so scroll-margin-top applies after opening
        requestAnimationFrame(() => el.scrollIntoView({ block: 'start' }));
      }
  
      // Initial measure + on resize (header height can change on mobile)
      setOffsetVar();
      window.addEventListener('resize', setOffsetVar, { passive: true });
  
      // If the page loads with a hash, fix it
      if (location.hash) openDetailsAndAlign(location.hash);
  
      // Handle in-page anchor clicks / hash changes
      window.addEventListener('hashchange', () => openDetailsAndAlign(location.hash));
    });
  </script>

  <footer class="site-footer">
    © 2025 Community Clean Air Spaces Study – University of British Columbia
  </footer>

  <!-- Hamburger toggle -->
  <script src="js/menu.js" defer></script>

</body>
</html>
